window.addEventListener("load",(()=>{let fundsurl="https://api.doctorxiong.club/v1/fund?code="+fundslist.funds;var httpRequest=new XMLHttpRequest;httpRequest.open("GET",fundsurl,!0),httpRequest.send(),httpRequest.onreadystatechange=function(){if(4==httpRequest.readyState&&200==httpRequest.status){var json=httpRequest.responseText,obj=eval("("+json+")");const fundsArray=obj.data.map((e=>({code:e.code,name:e.name,dayGrowth:e.expectGrowth,color:e.expectGrowth>0?"red":"green"})));saveToLocal.set("mj-funds",JSON.stringify(fundsArray),5/1440);const data=saveToLocal.get("mj-funds");generateHtml(JSON.parse(data))}};const generateHtml=e=>{let t="";if(e.length)for(let n=0;n<e.length;n++)t+=`<div class='funds-list-item'><div class='content'>\n        <span class='fund_name'>${e[n].name}</span>\n        <div class='fund_dayGrowth' style='color: ${e[n].color}'><span>${e[n].dayGrowth}%</span></div>\n        </div></div>`;else t+="暂时还没有关注基金...";let n=document.querySelector("#card-funds .funds-list");n.innerHTML=t,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(n)},fundsInit=()=>{if(document.querySelector("#card-funds .funds-list")){const e=saveToLocal.get("mj-funds");e&&generateHtml(JSON.parse(e))}};fundsInit(),document.addEventListener("pjax:complete",fundsInit)}));