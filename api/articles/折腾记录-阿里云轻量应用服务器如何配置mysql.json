{"title":"MySQL | 阿里云轻量应用服务器如何配置mysql","slug":"折腾记录-阿里云轻量应用服务器如何配置mysql","date":"2020-04-13T02:40:34.000Z","updated":"2020-04-13T02:40:34.000Z","comments":true,"path":"api/articles/折腾记录-阿里云轻量应用服务器如何配置mysql.json","excerpt":"在购买阿里云轻量应用服务器之后的环境是都帮你搭配好的，但是数据库就需要自己操作配置了，比如说如何使用阿里云数据管理DMS远程操纵数据库，其在部署的过程中还是有许多坑","covers":["https://npm.elemecdn.com/justlovesmile-img/1.png","https://npm.elemecdn.com/justlovesmile-img/2.png","https://npm.elemecdn.com/justlovesmile-img/3.png","https://npm.elemecdn.com/justlovesmile-img/4.png","https://npm.elemecdn.com/justlovesmile-img/5.png","https://npm.elemecdn.com/justlovesmile-img/6.png","https://npm.elemecdn.com/justlovesmile-img/7.png","https://npm.elemecdn.com/justlovesmile-img/8.png"],"content":"<p>在购买阿里云轻量应用服务器之后的环境是都帮你搭配好的，但是数据库就需要自己操作配置了，比如说<strong>如何使用阿里云数据管理DMS远程操纵数据库</strong>，其在部署的过程中还是有许多坑</p>\n<span id=\"more\"></span>\n\n<blockquote>\n<p>参考自<a href=\"https://blog.csdn.net/weixin_40862011/article/details/86260700\">阿里云轻量应用服务器 配置mysql详解</a></p>\n</blockquote>\n <p><span style=\"font-size:20px;\">在</span>购买了阿里云轻量应用服务器后，我结合自身的能力选择了建站相对简单的wordpress，毕竟对于阿里云学生机而言，每个月9.5元确实很便宜👍，最初的配置很简单，只需要参考阿里提供的步骤就能完成（除了升级php版本的时候踩了不少坑，详见<a href=\"/posts/10224.html\">阿里云轻量应用服务器Wordpress升级php步骤</a>），但是当我在服务器中输入`mysql -uroot -p`时，我发现没有找到命令。</p>\n\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/1.png\"/>\n\n<p>后来我才发现，我应该使用<code>sudo /usr/local/mysql/bin/mysql -uroot -p密码</code>命令😂,其实购买服务器之后的环境是都帮你搭配好的，但是数据库就需要自己操作配置了，比如说<strong>如何使用阿里云数据管理DMS远程操纵数据库</strong>，其在部署的过程中还是有许多坑。</p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/2.png\"/>\n\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/3.png\"/>\n\n<p>1.通过上述步骤，先在应用详情获取Mysql密码，方法即是点击MySQL的远程连接，然后复制命令输入获取密码<br>2.点击轻量应用服务器左侧导航找到防火墙，在里面添加MYSQL规则，对应端口3306<br>3.在顶部搜索框中搜索<code>数据管理DMS</code></p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/4.png\"/>\n\n<p>4.进入数据管理DMS，查看左侧导航，点击自建库（ESC、公网）,选择新增数据库，开始创建你的数据库</p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/5.png\"/>\n\n<p>5.选择Mysql与公网自建，输入一系列信息，然后会出现一行报错<code>Host XX.XX.XX.XX is not allowed to connect Mysql server</code>,记录此时的IP值</p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/6.png\"/>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/7.png\"/>\n\n<p>6.回到阿里云轻量应用服务器控制台，远程连接服务器<br>（1）使用命令行方式通过MySQL的账号密码（密码即是之前步骤中获取到的数据库默认的账号和密码）连接到MySQL当中,输入 <code>sudo /usr/local/mysql/bin/mysql -uroot -p密码</code><br> (2)再输入<code>GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;远程连接的新密码&#39; WITH GRANT OPTION;</code>,上面命令中<code>%</code>代表从任何主机都可以连接到mysql服务器的话，如果要指定ip即把%替换<code>ip地址</code>即可,例如第5步保存的ip地址<br>（3）最后输入<code>FLUSH PRIVILEGES; </code>刷新先前的修改<br>7.回到自建数据库界面输入公网ip，自己设置的数据库密码就可登录，登录后即可远程访问数据库，也可看到相关数据库的运行实例，也可以进行数据库相应的操作。</p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/8.png\"/>\n","more":"<blockquote>\n<p>参考自<a href=\"https://blog.csdn.net/weixin_40862011/article/details/86260700\">阿里云轻量应用服务器 配置mysql详解</a></p>\n</blockquote>\n <p><span style=\"font-size:20px;\">在</span>购买了阿里云轻量应用服务器后，我结合自身的能力选择了建站相对简单的wordpress，毕竟对于阿里云学生机而言，每个月9.5元确实很便宜👍，最初的配置很简单，只需要参考阿里提供的步骤就能完成（除了升级php版本的时候踩了不少坑，详见<a href=\"/posts/10224.html\">阿里云轻量应用服务器Wordpress升级php步骤</a>），但是当我在服务器中输入`mysql -uroot -p`时，我发现没有找到命令。</p>\n\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/1.png\"/>\n\n<p>后来我才发现，我应该使用<code>sudo /usr/local/mysql/bin/mysql -uroot -p密码</code>命令😂,其实购买服务器之后的环境是都帮你搭配好的，但是数据库就需要自己操作配置了，比如说<strong>如何使用阿里云数据管理DMS远程操纵数据库</strong>，其在部署的过程中还是有许多坑。</p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/2.png\"/>\n\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/3.png\"/>\n\n<p>1.通过上述步骤，先在应用详情获取Mysql密码，方法即是点击MySQL的远程连接，然后复制命令输入获取密码<br>2.点击轻量应用服务器左侧导航找到防火墙，在里面添加MYSQL规则，对应端口3306<br>3.在顶部搜索框中搜索<code>数据管理DMS</code></p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/4.png\"/>\n\n<p>4.进入数据管理DMS，查看左侧导航，点击自建库（ESC、公网）,选择新增数据库，开始创建你的数据库</p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/5.png\"/>\n\n<p>5.选择Mysql与公网自建，输入一系列信息，然后会出现一行报错<code>Host XX.XX.XX.XX is not allowed to connect Mysql server</code>,记录此时的IP值</p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/6.png\"/>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/7.png\"/>\n\n<p>6.回到阿里云轻量应用服务器控制台，远程连接服务器<br>（1）使用命令行方式通过MySQL的账号密码（密码即是之前步骤中获取到的数据库默认的账号和密码）连接到MySQL当中,输入 <code>sudo /usr/local/mysql/bin/mysql -uroot -p密码</code><br> (2)再输入<code>GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;远程连接的新密码&#39; WITH GRANT OPTION;</code>,上面命令中<code>%</code>代表从任何主机都可以连接到mysql服务器的话，如果要指定ip即把%替换<code>ip地址</code>即可,例如第5步保存的ip地址<br>（3）最后输入<code>FLUSH PRIVILEGES; </code>刷新先前的修改<br>7.回到自建数据库界面输入公网ip，自己设置的数据库密码就可登录，登录后即可远程访问数据库，也可看到相关数据库的运行实例，也可以进行数据库相应的操作。</p>\n<img src=\"https://npm.elemecdn.com/justlovesmile-img/8.png\"/>","categories":[{"name":"折腾记录","path":"api/categories/折腾记录.json"}],"tags":[{"name":"数据库","path":"api/tags/数据库.json"},{"name":"服务器","path":"api/tags/服务器.json"}]}