{"title":"Hexo博客 | 如何在博客首页添加公告板模块","slug":"博客相关-Hexo博客美化之添加公告板","date":"2020-06-30T08:19:53.000Z","updated":"2020-06-30T08:19:53.000Z","comments":true,"path":"api/articles/博客相关-Hexo博客美化之添加公告板.json","excerpt":null,"covers":["https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/20200630163919.png","https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/20200630163919.png"],"content":"<p>在我的博客首页添加了<code>告示板模块</code>，有两种模式，一种是<code>自定义语句</code>，一种是<code>一言API</code><br><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/20200630163919.png\"></p>\n<blockquote>\n<p><strong>发现写了很多博客美化的文章了,罗列了一下</strong></p>\n</blockquote>\n<ul>\n<li><a href=\"/posts/24067.html\">Type.js打字机效果</a>: 添加<code>打字机效果</code></li>\n<li><a href=\"/posts/56163.html\">博客中能用到的代码</a>: 关于<code>font awesome图标</code>字体库，使用<code>动态图标</code>，添加<code>网页运行时间</code>，<code>全站变黑白</code>，<code>鼠标点击特效</code>，<code>网页标题的动态效果</code>，<code>网页樱花特效</code>，<code>鼠标触动音乐特效</code></li>\n<li><a href=\"/posts/15391.html\">博客中能用到的代码（二）</a>: 添加<code>旋转小人</code>和<code>每日诗句</code></li>\n<li><a href=\"/posts/27831.html\">博客美化之Valine</a>: 关于valine添加<code>一言</code>，<code>每日诗句</code>，<code>自定义表情</code>，<code>自定义背景</code></li>\n<li><a href=\"/posts/14357.html\">添加二级菜单</a>: 添加<code>二级菜单</code>的简单方法</li>\n<li><a href=\"/posts/43010.html\">添加博客加密</a>: <code>文章添加密码</code>功能</li>\n<li><a href=\"/posts/27301.html\">Hexo博客美化之随机封面</a>: <code>封面图片随机更换</code>功能</li>\n<li><a href=\"/posts/57206.html\">Hexo博客添加公告板</a></li>\n<li><a href=\"/posts/7e7ef81c.html\">花里胡哨的打字机效果</a></li>\n<li><a href=\"/posts/7376.html\">Hexo竟然可以展示PDF</a></li>\n<li><a href=\"/posts/86111745.html\">Hexo插件总结推荐</a></li>\n</ul>\n<h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>本文是以我现在使用的Ayer主题为例</p>\n<h2 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h2><h3 id=\"第一步-找到对应的首页文章页的代码文章\"><a href=\"#第一步-找到对应的首页文章页的代码文章\" class=\"headerlink\" title=\"第一步 找到对应的首页文章页的代码文章\"></a>第一步 找到对应的首页文章页的代码文章</h3><p>例如，ayer主题的位于<code>hexo\\themes\\ayer\\layout\\_partial\\archive.ejs</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;outer&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 找到这里，添加代码 --&gt;</span></span><br><span class=\"line\">  &lt;% if (theme.broadcast.enable &amp;&amp; pagination == 2)&#123; %&gt;</span><br><span class=\"line\">  &lt;%- partial(&#x27;_partial/broadcast&#x27;) %&gt;</span><br><span class=\"line\">  &lt;% &#125; %&gt;</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 到这里结束 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">article</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;articles&quot;</span>&gt;</span></span><br><span class=\"line\">    &lt;%</span><br><span class=\"line\">    var title = &#x27;&#x27;;</span><br><span class=\"line\">    if (page.category) title = page.category;</span><br><span class=\"line\">    if (page.tag) title = &quot;#&quot; + &quot;&amp;nbsp&quot; + page.tag;</span><br><span class=\"line\">    if (page.archive) &#123;</span><br><span class=\"line\">      if (page.year) title = page.year + (page.month ? &#x27;/&#x27; + page.month : &#x27;&#x27;);</span><br><span class=\"line\">      else title = __(&#x27;archive_a&#x27;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    %&gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"第二步-创建broadcast-ejs文件\"><a href=\"#第二步-创建broadcast-ejs文件\" class=\"headerlink\" title=\"第二步 创建broadcast.ejs文件\"></a>第二步 创建<code>broadcast.ejs</code>文件</h3><p>在第一步里，<code>&lt;%- partial(&#39;_partial/broadcast&#39;) %&gt;</code>调用了<code>_partial</code>文件夹里面的<code>broadcast.ejs</code>文件，因此需要自己创建一个，内容为：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% if (theme.broadcast.type===1 &amp;&amp; theme.broadcast.text)&#123; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;notice&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;fa &lt;%- theme.broadcast.icon -%&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;notice-content&quot;</span>&gt;</span>&lt;%= theme.broadcast.text %&gt;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br><span class=\"line\">&lt;% if (theme.broadcast.type===2)&#123; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;notice&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;fa &lt;%- theme.broadcast.icon -%&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;notice-content&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;broad&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">   fetch(<span class=\"string\">&#x27;https://v1.hitokoto.cn&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">    .then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span></span><br><span class=\"line\"><span class=\"javascript\">    .then(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;broad&quot;</span>).innerHTML=data.hitokoto;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">    .catch(<span class=\"built_in\">console</span>.error)</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.notice</span> &#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">padding</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> dashed <span class=\"number\">#e6e6e6</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">color</span>: <span class=\"number\">#969696</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">display</span>: inline-block;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">background</span>: <span class=\"number\">#fbfbfb</span>50;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"css\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.notice</span> <span class=\"selector-tag\">i</span>&#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">float</span>: left;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">color</span>: <span class=\"number\">#999</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">padding-right</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">vertical-align</span>: middle;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">margin-top</span>:<span class=\"number\">3px</span>;</span></span><br><span class=\"line\"><span class=\"css\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.notice-content</span>&#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">display</span>: initial;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">vertical-align</span>: middle;</span></span><br><span class=\"line\"><span class=\"css\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>当然，为了优化，也可以自己把css整合到css文件中，或者把cdn文件放到after-footer里，这里不再详述</p>\n<h3 id=\"第三步-打开主题的配置文件\"><a href=\"#第三步-打开主题的配置文件\" class=\"headerlink\" title=\"第三步 打开主题的配置文件\"></a>第三步 打开主题的配置文件</h3><p>注意是主题的配置文件！打开后添加配置项：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 告示板模块</span></span><br><span class=\"line\"><span class=\"attr\">broadcast:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span>   <span class=\"comment\">#true开启，false关闭</span></span><br><span class=\"line\">  <span class=\"attr\">icon:</span> <span class=\"string\">fa-bookmark</span>  <span class=\"comment\">#fontawesome图标库，格式如示例</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"number\">2</span> <span class=\"comment\">#1：自定义输入，2：一言api</span></span><br><span class=\"line\">  <span class=\"attr\">text:</span> <span class=\"string\">justlovesmile.top持续更新中...</span>  <span class=\"comment\">#type为1时有效</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"第四步-效果\"><a href=\"#第四步-效果\" class=\"headerlink\" title=\"第四步 效果\"></a>第四步 效果</h3><p><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/20200630163919.png\"></p>\n","more":"<p>在我的博客首页添加了<code>告示板模块</code>，有两种模式，一种是<code>自定义语句</code>，一种是<code>一言API</code><br><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/20200630163919.png\"></p>\n<blockquote>\n<p><strong>发现写了很多博客美化的文章了,罗列了一下</strong></p>\n</blockquote>\n<ul>\n<li><a href=\"/posts/24067.html\">Type.js打字机效果</a>: 添加<code>打字机效果</code></li>\n<li><a href=\"/posts/56163.html\">博客中能用到的代码</a>: 关于<code>font awesome图标</code>字体库，使用<code>动态图标</code>，添加<code>网页运行时间</code>，<code>全站变黑白</code>，<code>鼠标点击特效</code>，<code>网页标题的动态效果</code>，<code>网页樱花特效</code>，<code>鼠标触动音乐特效</code></li>\n<li><a href=\"/posts/15391.html\">博客中能用到的代码（二）</a>: 添加<code>旋转小人</code>和<code>每日诗句</code></li>\n<li><a href=\"/posts/27831.html\">博客美化之Valine</a>: 关于valine添加<code>一言</code>，<code>每日诗句</code>，<code>自定义表情</code>，<code>自定义背景</code></li>\n<li><a href=\"/posts/14357.html\">添加二级菜单</a>: 添加<code>二级菜单</code>的简单方法</li>\n<li><a href=\"/posts/43010.html\">添加博客加密</a>: <code>文章添加密码</code>功能</li>\n<li><a href=\"/posts/27301.html\">Hexo博客美化之随机封面</a>: <code>封面图片随机更换</code>功能</li>\n<li><a href=\"/posts/57206.html\">Hexo博客添加公告板</a></li>\n<li><a href=\"/posts/7e7ef81c.html\">花里胡哨的打字机效果</a></li>\n<li><a href=\"/posts/7376.html\">Hexo竟然可以展示PDF</a></li>\n<li><a href=\"/posts/86111745.html\">Hexo插件总结推荐</a></li>\n</ul>\n<h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>本文是以我现在使用的Ayer主题为例</p>\n<h2 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h2><h3 id=\"第一步-找到对应的首页文章页的代码文章\"><a href=\"#第一步-找到对应的首页文章页的代码文章\" class=\"headerlink\" title=\"第一步 找到对应的首页文章页的代码文章\"></a>第一步 找到对应的首页文章页的代码文章</h3><p>例如，ayer主题的位于<code>hexo\\themes\\ayer\\layout\\_partial\\archive.ejs</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;outer&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 找到这里，添加代码 --&gt;</span></span><br><span class=\"line\">  &lt;% if (theme.broadcast.enable &amp;&amp; pagination == 2)&#123; %&gt;</span><br><span class=\"line\">  &lt;%- partial(&#x27;_partial/broadcast&#x27;) %&gt;</span><br><span class=\"line\">  &lt;% &#125; %&gt;</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 到这里结束 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">article</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;articles&quot;</span>&gt;</span></span><br><span class=\"line\">    &lt;%</span><br><span class=\"line\">    var title = &#x27;&#x27;;</span><br><span class=\"line\">    if (page.category) title = page.category;</span><br><span class=\"line\">    if (page.tag) title = &quot;#&quot; + &quot;&amp;nbsp&quot; + page.tag;</span><br><span class=\"line\">    if (page.archive) &#123;</span><br><span class=\"line\">      if (page.year) title = page.year + (page.month ? &#x27;/&#x27; + page.month : &#x27;&#x27;);</span><br><span class=\"line\">      else title = __(&#x27;archive_a&#x27;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    %&gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"第二步-创建broadcast-ejs文件\"><a href=\"#第二步-创建broadcast-ejs文件\" class=\"headerlink\" title=\"第二步 创建broadcast.ejs文件\"></a>第二步 创建<code>broadcast.ejs</code>文件</h3><p>在第一步里，<code>&lt;%- partial(&#39;_partial/broadcast&#39;) %&gt;</code>调用了<code>_partial</code>文件夹里面的<code>broadcast.ejs</code>文件，因此需要自己创建一个，内容为：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% if (theme.broadcast.type===1 &amp;&amp; theme.broadcast.text)&#123; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;notice&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;fa &lt;%- theme.broadcast.icon -%&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;notice-content&quot;</span>&gt;</span>&lt;%= theme.broadcast.text %&gt;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br><span class=\"line\">&lt;% if (theme.broadcast.type===2)&#123; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;notice&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;fa &lt;%- theme.broadcast.icon -%&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;notice-content&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;broad&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">   fetch(<span class=\"string\">&#x27;https://v1.hitokoto.cn&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">    .then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span></span><br><span class=\"line\"><span class=\"javascript\">    .then(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;broad&quot;</span>).innerHTML=data.hitokoto;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">    .catch(<span class=\"built_in\">console</span>.error)</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.notice</span> &#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">padding</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> dashed <span class=\"number\">#e6e6e6</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">color</span>: <span class=\"number\">#969696</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">display</span>: inline-block;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">background</span>: <span class=\"number\">#fbfbfb</span>50;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"css\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.notice</span> <span class=\"selector-tag\">i</span>&#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">float</span>: left;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">color</span>: <span class=\"number\">#999</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">padding-right</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">vertical-align</span>: middle;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">margin-top</span>:<span class=\"number\">3px</span>;</span></span><br><span class=\"line\"><span class=\"css\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.notice-content</span>&#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">display</span>: initial;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"attribute\">vertical-align</span>: middle;</span></span><br><span class=\"line\"><span class=\"css\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>当然，为了优化，也可以自己把css整合到css文件中，或者把cdn文件放到after-footer里，这里不再详述</p>\n<h3 id=\"第三步-打开主题的配置文件\"><a href=\"#第三步-打开主题的配置文件\" class=\"headerlink\" title=\"第三步 打开主题的配置文件\"></a>第三步 打开主题的配置文件</h3><p>注意是主题的配置文件！打开后添加配置项：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 告示板模块</span></span><br><span class=\"line\"><span class=\"attr\">broadcast:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span>   <span class=\"comment\">#true开启，false关闭</span></span><br><span class=\"line\">  <span class=\"attr\">icon:</span> <span class=\"string\">fa-bookmark</span>  <span class=\"comment\">#fontawesome图标库，格式如示例</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"number\">2</span> <span class=\"comment\">#1：自定义输入，2：一言api</span></span><br><span class=\"line\">  <span class=\"attr\">text:</span> <span class=\"string\">justlovesmile.top持续更新中...</span>  <span class=\"comment\">#type为1时有效</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"第四步-效果\"><a href=\"#第四步-效果\" class=\"headerlink\" title=\"第四步 效果\"></a>第四步 效果</h3><p><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/20200630163919.png\"></p>\n","categories":[{"name":"博客相关","path":"api/categories/博客相关.json"}],"tags":[{"name":"Hexo","path":"api/tags/Hexo.json"},{"name":"前端","path":"api/tags/前端.json"}]}