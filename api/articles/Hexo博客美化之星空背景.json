{"title":"Hexo博客 | 如何让你的博客拥有星空背景和流星特效","slug":"Hexo博客美化之星空背景","date":"2021-08-12T09:41:33.000Z","updated":"2021-08-12T09:41:33.000Z","comments":true,"path":"api/articles/Hexo博客美化之星空背景.json","excerpt":null,"covers":["https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/202108121834269.gif","https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/202108121759902.png","https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/202108121822274.png"],"content":"<p>最近很多小伙伴留言想要<code>星空和流星特效</code>，于是写了这篇文章准备介绍如何部署。</p>\n<blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/202108121834269.gif\"></p>\n</blockquote>\n<h2 id=\"1-插入Canvas标签\"><a href=\"#1-插入Canvas标签\" class=\"headerlink\" title=\"1. 插入Canvas标签\"></a>1. 插入Canvas标签</h2><p>首先打开Butterfly主题的<code>_config.yml</code>文件或者使用HTML直接插入，找到配置文件对应的<code>inject</code>部分，插入<code>&lt;canvas id=&quot;universe&quot;&gt;&lt;/canvas&gt;</code></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/202108121759902.png\" alt=\"image-20210812175952760\"></p>\n<h2 id=\"2-创建JS文件\"><a href=\"#2-创建JS文件\" class=\"headerlink\" title=\"2. 创建JS文件\"></a>2. 创建JS文件</h2><p>在<code>butterfly/source/js/</code>创建一个<code>universe.js</code>文件，或者添加到自己的<code>js</code>文件中</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">dark</span>(<span class=\"params\"></span>) </span>&#123;<span class=\"built_in\">window</span>.requestAnimationFrame=<span class=\"built_in\">window</span>.requestAnimationFrame||<span class=\"built_in\">window</span>.mozRequestAnimationFrame||<span class=\"built_in\">window</span>.webkitRequestAnimationFrame||<span class=\"built_in\">window</span>.msRequestAnimationFrame;<span class=\"keyword\">var</span> n,e,i,h,t=<span class=\"number\">.05</span>,s=<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;universe&quot;</span>),o=!<span class=\"number\">0</span>,a=<span class=\"string\">&quot;180,184,240&quot;</span>,r=<span class=\"string\">&quot;226,225,142&quot;</span>,d=<span class=\"string\">&quot;226,225,224&quot;</span>,c=[];<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">f</span>(<span class=\"params\"></span>)</span>&#123;n=<span class=\"built_in\">window</span>.innerWidth,e=<span class=\"built_in\">window</span>.innerHeight,i=<span class=\"number\">.216</span>*n,s.setAttribute(<span class=\"string\">&quot;width&quot;</span>,n),s.setAttribute(<span class=\"string\">&quot;height&quot;</span>,e)&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">u</span>(<span class=\"params\"></span>)</span>&#123;h.clearRect(<span class=\"number\">0</span>,<span class=\"number\">0</span>,n,e);<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=c.length,i=<span class=\"number\">0</span>;i&lt;t;i++)&#123;<span class=\"keyword\">var</span> s=c[i];s.move(),s.fadeIn(),s.fadeOut(),s.draw()&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">y</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.reset=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.giant=m(<span class=\"number\">3</span>),<span class=\"built_in\">this</span>.comet=!<span class=\"built_in\">this</span>.giant&amp;&amp;!o&amp;&amp;m(<span class=\"number\">10</span>),<span class=\"built_in\">this</span>.x=l(<span class=\"number\">0</span>,n-<span class=\"number\">10</span>),<span class=\"built_in\">this</span>.y=l(<span class=\"number\">0</span>,e),<span class=\"built_in\">this</span>.r=l(<span class=\"number\">1.1</span>,<span class=\"number\">2.6</span>),<span class=\"built_in\">this</span>.dx=l(t,<span class=\"number\">6</span>*t)+(<span class=\"built_in\">this</span>.comet+<span class=\"number\">1</span>-<span class=\"number\">1</span>)*t*l(<span class=\"number\">50</span>,<span class=\"number\">120</span>)+<span class=\"number\">2</span>*t,<span class=\"built_in\">this</span>.dy=-l(t,<span class=\"number\">6</span>*t)-(<span class=\"built_in\">this</span>.comet+<span class=\"number\">1</span>-<span class=\"number\">1</span>)*t*l(<span class=\"number\">50</span>,<span class=\"number\">120</span>),<span class=\"built_in\">this</span>.fadingOut=<span class=\"literal\">null</span>,<span class=\"built_in\">this</span>.fadingIn=!<span class=\"number\">0</span>,<span class=\"built_in\">this</span>.opacity=<span class=\"number\">0</span>,<span class=\"built_in\">this</span>.opacityTresh=l(<span class=\"number\">.2</span>,<span class=\"number\">1</span>-<span class=\"number\">.4</span>*(<span class=\"built_in\">this</span>.comet+<span class=\"number\">1</span>-<span class=\"number\">1</span>)),<span class=\"built_in\">this</span>.do=l(<span class=\"number\">5e-4</span>,<span class=\"number\">.002</span>)+<span class=\"number\">.001</span>*(<span class=\"built_in\">this</span>.comet+<span class=\"number\">1</span>-<span class=\"number\">1</span>)&#125;,<span class=\"built_in\">this</span>.fadeIn=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.fadingIn&amp;&amp;(<span class=\"built_in\">this</span>.fadingIn=!(<span class=\"built_in\">this</span>.opacity&gt;<span class=\"built_in\">this</span>.opacityTresh),<span class=\"built_in\">this</span>.opacity+=<span class=\"built_in\">this</span>.do)&#125;,<span class=\"built_in\">this</span>.fadeOut=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.fadingOut&amp;&amp;(<span class=\"built_in\">this</span>.fadingOut=!(<span class=\"built_in\">this</span>.opacity&lt;<span class=\"number\">0</span>),<span class=\"built_in\">this</span>.opacity-=<span class=\"built_in\">this</span>.do/<span class=\"number\">2</span>,(<span class=\"built_in\">this</span>.x&gt;n||<span class=\"built_in\">this</span>.y&lt;<span class=\"number\">0</span>)&amp;&amp;(<span class=\"built_in\">this</span>.fadingOut=!<span class=\"number\">1</span>,<span class=\"built_in\">this</span>.reset()))&#125;,<span class=\"built_in\">this</span>.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"keyword\">if</span>(h.beginPath(),<span class=\"built_in\">this</span>.giant)h.fillStyle=<span class=\"string\">&quot;rgba(&quot;</span>+a+<span class=\"string\">&quot;,&quot;</span>+<span class=\"built_in\">this</span>.opacity+<span class=\"string\">&quot;)&quot;</span>,h.arc(<span class=\"built_in\">this</span>.x,<span class=\"built_in\">this</span>.y,<span class=\"number\">2</span>,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">1</span>);<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.comet)&#123;h.fillStyle=<span class=\"string\">&quot;rgba(&quot;</span>+d+<span class=\"string\">&quot;,&quot;</span>+<span class=\"built_in\">this</span>.opacity+<span class=\"string\">&quot;)&quot;</span>,h.arc(<span class=\"built_in\">this</span>.x,<span class=\"built_in\">this</span>.y,<span class=\"number\">1.5</span>,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">1</span>);<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=<span class=\"number\">0</span>;t&lt;<span class=\"number\">30</span>;t++)h.fillStyle=<span class=\"string\">&quot;rgba(&quot;</span>+d+<span class=\"string\">&quot;,&quot;</span>+(<span class=\"built_in\">this</span>.opacity-<span class=\"built_in\">this</span>.opacity/<span class=\"number\">20</span>*t)+<span class=\"string\">&quot;)&quot;</span>,h.rect(<span class=\"built_in\">this</span>.x-<span class=\"built_in\">this</span>.dx/<span class=\"number\">4</span>*t,<span class=\"built_in\">this</span>.y-<span class=\"built_in\">this</span>.dy/<span class=\"number\">4</span>*t-<span class=\"number\">2</span>,<span class=\"number\">2</span>,<span class=\"number\">2</span>),h.fill()&#125;<span class=\"keyword\">else</span> h.fillStyle=<span class=\"string\">&quot;rgba(&quot;</span>+r+<span class=\"string\">&quot;,&quot;</span>+<span class=\"built_in\">this</span>.opacity+<span class=\"string\">&quot;)&quot;</span>,h.rect(<span class=\"built_in\">this</span>.x,<span class=\"built_in\">this</span>.y,<span class=\"built_in\">this</span>.r,<span class=\"built_in\">this</span>.r);h.closePath(),h.fill()&#125;,<span class=\"built_in\">this</span>.move=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.x+=<span class=\"built_in\">this</span>.dx,<span class=\"built_in\">this</span>.y+=<span class=\"built_in\">this</span>.dy,!<span class=\"number\">1</span>===<span class=\"built_in\">this</span>.fadingOut&amp;&amp;<span class=\"built_in\">this</span>.reset(),(<span class=\"built_in\">this</span>.x&gt;n-n/<span class=\"number\">4</span>||<span class=\"built_in\">this</span>.y&lt;<span class=\"number\">0</span>)&amp;&amp;(<span class=\"built_in\">this</span>.fadingOut=!<span class=\"number\">0</span>)&#125;,<span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;o=!<span class=\"number\">1</span>&#125;,<span class=\"number\">50</span>)&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">m</span>(<span class=\"params\">t</span>)</span>&#123;<span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.floor(<span class=\"number\">1e3</span>*<span class=\"built_in\">Math</span>.random())+<span class=\"number\">1</span>&lt;<span class=\"number\">10</span>*t&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">l</span>(<span class=\"params\">t,i</span>)</span>&#123;<span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.random()*(i-t)+t&#125;f(),<span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">&quot;resize&quot;</span>,f,!<span class=\"number\">1</span>),<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;h=s.getContext(<span class=\"string\">&quot;2d&quot;</span>);<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=<span class=\"number\">0</span>;t&lt;i;t++)c[t]=<span class=\"keyword\">new</span> y,c[t].reset();u()&#125;(),<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">t</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">&#x27;html&#x27;</span>)[<span class=\"number\">0</span>].getAttribute(<span class=\"string\">&#x27;data-theme&#x27;</span>)==<span class=\"string\">&#x27;dark&#x27;</span>&amp;&amp;u(),<span class=\"built_in\">window</span>.requestAnimationFrame(t)&#125;()&#125;;</span><br><span class=\"line\">dark()</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/202108121822274.png\" alt=\"image-20210812182203080\"></p>\n<p>代码的这一部分要求<code>data-theme</code>也就是主题为<code>dark</code>暗色主题，因此仅在暗色主题生效，随后将<code>js</code>文件添加到配置文件的<code>inject</code>处或者其他需要的位置。</p>\n<h2 id=\"3-CSS样式\"><a href=\"#3-CSS样式\" class=\"headerlink\" title=\"3. CSS样式\"></a>3. CSS样式</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 背景宇宙星光  */</span></span><br><span class=\"line\"><span class=\"selector-id\">#universe</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">outline</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">pointer-events</span>: none;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","more":"<p>最近很多小伙伴留言想要<code>星空和流星特效</code>，于是写了这篇文章准备介绍如何部署。</p>\n<blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/202108121834269.gif\"></p>\n</blockquote>\n<h2 id=\"1-插入Canvas标签\"><a href=\"#1-插入Canvas标签\" class=\"headerlink\" title=\"1. 插入Canvas标签\"></a>1. 插入Canvas标签</h2><p>首先打开Butterfly主题的<code>_config.yml</code>文件或者使用HTML直接插入，找到配置文件对应的<code>inject</code>部分，插入<code>&lt;canvas id=&quot;universe&quot;&gt;&lt;/canvas&gt;</code></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/202108121759902.png\" alt=\"image-20210812175952760\"></p>\n<h2 id=\"2-创建JS文件\"><a href=\"#2-创建JS文件\" class=\"headerlink\" title=\"2. 创建JS文件\"></a>2. 创建JS文件</h2><p>在<code>butterfly/source/js/</code>创建一个<code>universe.js</code>文件，或者添加到自己的<code>js</code>文件中</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">dark</span>(<span class=\"params\"></span>) </span>&#123;<span class=\"built_in\">window</span>.requestAnimationFrame=<span class=\"built_in\">window</span>.requestAnimationFrame||<span class=\"built_in\">window</span>.mozRequestAnimationFrame||<span class=\"built_in\">window</span>.webkitRequestAnimationFrame||<span class=\"built_in\">window</span>.msRequestAnimationFrame;<span class=\"keyword\">var</span> n,e,i,h,t=<span class=\"number\">.05</span>,s=<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;universe&quot;</span>),o=!<span class=\"number\">0</span>,a=<span class=\"string\">&quot;180,184,240&quot;</span>,r=<span class=\"string\">&quot;226,225,142&quot;</span>,d=<span class=\"string\">&quot;226,225,224&quot;</span>,c=[];<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">f</span>(<span class=\"params\"></span>)</span>&#123;n=<span class=\"built_in\">window</span>.innerWidth,e=<span class=\"built_in\">window</span>.innerHeight,i=<span class=\"number\">.216</span>*n,s.setAttribute(<span class=\"string\">&quot;width&quot;</span>,n),s.setAttribute(<span class=\"string\">&quot;height&quot;</span>,e)&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">u</span>(<span class=\"params\"></span>)</span>&#123;h.clearRect(<span class=\"number\">0</span>,<span class=\"number\">0</span>,n,e);<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=c.length,i=<span class=\"number\">0</span>;i&lt;t;i++)&#123;<span class=\"keyword\">var</span> s=c[i];s.move(),s.fadeIn(),s.fadeOut(),s.draw()&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">y</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.reset=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.giant=m(<span class=\"number\">3</span>),<span class=\"built_in\">this</span>.comet=!<span class=\"built_in\">this</span>.giant&amp;&amp;!o&amp;&amp;m(<span class=\"number\">10</span>),<span class=\"built_in\">this</span>.x=l(<span class=\"number\">0</span>,n-<span class=\"number\">10</span>),<span class=\"built_in\">this</span>.y=l(<span class=\"number\">0</span>,e),<span class=\"built_in\">this</span>.r=l(<span class=\"number\">1.1</span>,<span class=\"number\">2.6</span>),<span class=\"built_in\">this</span>.dx=l(t,<span class=\"number\">6</span>*t)+(<span class=\"built_in\">this</span>.comet+<span class=\"number\">1</span>-<span class=\"number\">1</span>)*t*l(<span class=\"number\">50</span>,<span class=\"number\">120</span>)+<span class=\"number\">2</span>*t,<span class=\"built_in\">this</span>.dy=-l(t,<span class=\"number\">6</span>*t)-(<span class=\"built_in\">this</span>.comet+<span class=\"number\">1</span>-<span class=\"number\">1</span>)*t*l(<span class=\"number\">50</span>,<span class=\"number\">120</span>),<span class=\"built_in\">this</span>.fadingOut=<span class=\"literal\">null</span>,<span class=\"built_in\">this</span>.fadingIn=!<span class=\"number\">0</span>,<span class=\"built_in\">this</span>.opacity=<span class=\"number\">0</span>,<span class=\"built_in\">this</span>.opacityTresh=l(<span class=\"number\">.2</span>,<span class=\"number\">1</span>-<span class=\"number\">.4</span>*(<span class=\"built_in\">this</span>.comet+<span class=\"number\">1</span>-<span class=\"number\">1</span>)),<span class=\"built_in\">this</span>.do=l(<span class=\"number\">5e-4</span>,<span class=\"number\">.002</span>)+<span class=\"number\">.001</span>*(<span class=\"built_in\">this</span>.comet+<span class=\"number\">1</span>-<span class=\"number\">1</span>)&#125;,<span class=\"built_in\">this</span>.fadeIn=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.fadingIn&amp;&amp;(<span class=\"built_in\">this</span>.fadingIn=!(<span class=\"built_in\">this</span>.opacity&gt;<span class=\"built_in\">this</span>.opacityTresh),<span class=\"built_in\">this</span>.opacity+=<span class=\"built_in\">this</span>.do)&#125;,<span class=\"built_in\">this</span>.fadeOut=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.fadingOut&amp;&amp;(<span class=\"built_in\">this</span>.fadingOut=!(<span class=\"built_in\">this</span>.opacity&lt;<span class=\"number\">0</span>),<span class=\"built_in\">this</span>.opacity-=<span class=\"built_in\">this</span>.do/<span class=\"number\">2</span>,(<span class=\"built_in\">this</span>.x&gt;n||<span class=\"built_in\">this</span>.y&lt;<span class=\"number\">0</span>)&amp;&amp;(<span class=\"built_in\">this</span>.fadingOut=!<span class=\"number\">1</span>,<span class=\"built_in\">this</span>.reset()))&#125;,<span class=\"built_in\">this</span>.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"keyword\">if</span>(h.beginPath(),<span class=\"built_in\">this</span>.giant)h.fillStyle=<span class=\"string\">&quot;rgba(&quot;</span>+a+<span class=\"string\">&quot;,&quot;</span>+<span class=\"built_in\">this</span>.opacity+<span class=\"string\">&quot;)&quot;</span>,h.arc(<span class=\"built_in\">this</span>.x,<span class=\"built_in\">this</span>.y,<span class=\"number\">2</span>,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">1</span>);<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.comet)&#123;h.fillStyle=<span class=\"string\">&quot;rgba(&quot;</span>+d+<span class=\"string\">&quot;,&quot;</span>+<span class=\"built_in\">this</span>.opacity+<span class=\"string\">&quot;)&quot;</span>,h.arc(<span class=\"built_in\">this</span>.x,<span class=\"built_in\">this</span>.y,<span class=\"number\">1.5</span>,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">1</span>);<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=<span class=\"number\">0</span>;t&lt;<span class=\"number\">30</span>;t++)h.fillStyle=<span class=\"string\">&quot;rgba(&quot;</span>+d+<span class=\"string\">&quot;,&quot;</span>+(<span class=\"built_in\">this</span>.opacity-<span class=\"built_in\">this</span>.opacity/<span class=\"number\">20</span>*t)+<span class=\"string\">&quot;)&quot;</span>,h.rect(<span class=\"built_in\">this</span>.x-<span class=\"built_in\">this</span>.dx/<span class=\"number\">4</span>*t,<span class=\"built_in\">this</span>.y-<span class=\"built_in\">this</span>.dy/<span class=\"number\">4</span>*t-<span class=\"number\">2</span>,<span class=\"number\">2</span>,<span class=\"number\">2</span>),h.fill()&#125;<span class=\"keyword\">else</span> h.fillStyle=<span class=\"string\">&quot;rgba(&quot;</span>+r+<span class=\"string\">&quot;,&quot;</span>+<span class=\"built_in\">this</span>.opacity+<span class=\"string\">&quot;)&quot;</span>,h.rect(<span class=\"built_in\">this</span>.x,<span class=\"built_in\">this</span>.y,<span class=\"built_in\">this</span>.r,<span class=\"built_in\">this</span>.r);h.closePath(),h.fill()&#125;,<span class=\"built_in\">this</span>.move=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">this</span>.x+=<span class=\"built_in\">this</span>.dx,<span class=\"built_in\">this</span>.y+=<span class=\"built_in\">this</span>.dy,!<span class=\"number\">1</span>===<span class=\"built_in\">this</span>.fadingOut&amp;&amp;<span class=\"built_in\">this</span>.reset(),(<span class=\"built_in\">this</span>.x&gt;n-n/<span class=\"number\">4</span>||<span class=\"built_in\">this</span>.y&lt;<span class=\"number\">0</span>)&amp;&amp;(<span class=\"built_in\">this</span>.fadingOut=!<span class=\"number\">0</span>)&#125;,<span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;o=!<span class=\"number\">1</span>&#125;,<span class=\"number\">50</span>)&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">m</span>(<span class=\"params\">t</span>)</span>&#123;<span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.floor(<span class=\"number\">1e3</span>*<span class=\"built_in\">Math</span>.random())+<span class=\"number\">1</span>&lt;<span class=\"number\">10</span>*t&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">l</span>(<span class=\"params\">t,i</span>)</span>&#123;<span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.random()*(i-t)+t&#125;f(),<span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">&quot;resize&quot;</span>,f,!<span class=\"number\">1</span>),<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;h=s.getContext(<span class=\"string\">&quot;2d&quot;</span>);<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=<span class=\"number\">0</span>;t&lt;i;t++)c[t]=<span class=\"keyword\">new</span> y,c[t].reset();u()&#125;(),<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">t</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">&#x27;html&#x27;</span>)[<span class=\"number\">0</span>].getAttribute(<span class=\"string\">&#x27;data-theme&#x27;</span>)==<span class=\"string\">&#x27;dark&#x27;</span>&amp;&amp;u(),<span class=\"built_in\">window</span>.requestAnimationFrame(t)&#125;()&#125;;</span><br><span class=\"line\">dark()</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/202108121822274.png\" alt=\"image-20210812182203080\"></p>\n<p>代码的这一部分要求<code>data-theme</code>也就是主题为<code>dark</code>暗色主题，因此仅在暗色主题生效，随后将<code>js</code>文件添加到配置文件的<code>inject</code>处或者其他需要的位置。</p>\n<h2 id=\"3-CSS样式\"><a href=\"#3-CSS样式\" class=\"headerlink\" title=\"3. CSS样式\"></a>3. CSS样式</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 背景宇宙星光  */</span></span><br><span class=\"line\"><span class=\"selector-id\">#universe</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">outline</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">pointer-events</span>: none;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","categories":[{"name":"博客相关","path":"api/categories/博客相关.json"}],"tags":[{"name":"前端","path":"api/tags/前端.json"},{"name":"Hexo","path":"api/tags/Hexo.json"},{"name":"博客","path":"api/tags/博客.json"}]}